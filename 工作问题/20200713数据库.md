##MySQL

####简介
1. 由MariaDB、Oracle、percona三条分支发展，其中Oracle主流，percona更擅长做运维工具；
2. RPM安装，注意可能在安装过程中对于操作系统会有对应的依赖，如果操作系统安装的不是完整版，需要自己手动下载依赖；

3. 需要看一下客户端、mysql工具这些区别；**回查**

4. 默认端口号为3306；逐渐主流使用InnoDB引擎；
5. 可以开启慢查询跟踪，对查询慢的操作进行记录并显示出来；

6. 独立表空间？自己理解：原本表数据是默认存放在一个文件中的，独立后能让表数据分开存放；**回查**

7. Oracle是单库模式；MySQL是多库模式；
8. 在使用mysql命令执行sql语句或数据库操作时，可以在命令后面加/c取消操作；

9. 在var/log/mysqld.log文件中存放有用户的初始化密码？**回查**

10. 本地用户与远程用户的区别：数据库中的本地用户是**只允许在数据库所在主机使用该用户名与密码登录数据库的**；远程用户是指**可以在指定的远程主机使用该用户名与密码登录数据库**；
    * 本地用户是使用 username@localhost 记录的；
    * 远程用户是使用 username@(远程主机IP) 记录的，一般可以使用 username@% 代指所有远程主机可使用该用户名与密码登录数据库；

11. mysql可以将数据文件与sql语句输出出来，输出是一个文本文件，可以看出mysql存放到硬盘上也是一些文本文件，所以写入速度比较慢；

####数据库表结构的优化相关
1. 我们编程主要从数据表结构和sql、索引入手优化；
2. 命名规范：表名大写；

3. 建议每张常用查询的表有设置**自增主键（物理主键）int类型**，另外自己可以定义一个**业务主键**；自增主键的目的，因为mysql在表没有自增主键时，会自己创建一个自增主键，效率比较慢；**回查，可以了解更多一些**

4. 建议不用外键，使用业务代码维护完整性；不使用TEXT/BLOB类型

5. 拆分原则？将常用查询的列与不常查询的列分开成两张表？**回查**

6. 定义字段建议优选数字类型，其次是日期或者二进制，最后是字符类型；注意因为mysql定义字符类型时，如果规定了字段长，**实际输入值的时候不会自适应改变占用空间大小，所以要谨慎定义字段大小**；
7. mysql定义字段长度是指**字符长度，不是实际空间大小**，如：UTF-8的汉字占用3个字节，GBK的汉字占用2个字节，英文字母统一占一个字节；如果定义一个字段为char(4)，则可以填入四个汉字或四个字母，前者占12个字节，后者占4个字节，不会报错；**但输入5个字母会报错，即使实际只占5个字节**；（与第6点理解有问题**重点回查！**）

####索引
1. 索引失效的场景；
2. 隐式转换：mysql自动转换字段类型；
3. 索引覆盖：查询的字段都是由索引组成；
4. 尽量不要用select * ，因为查所有字段会因为I/O(数据库是先将数据从硬盘->内存缓存区->发送或者显示)，网络等问题导致查询慢;
5. case when
6. batch
7. union去重排序和union all；