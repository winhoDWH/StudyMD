### cd `dirname $0`
使用在脚本中，用于定位当前脚本存放的目录路径，从而可以用来定位要运行的程序所在相对位置；一般**结合pwd使用**；
```
cd `dirname $0`
echo `pwd`
```

### shell脚本
1. 在第一行填写： **#!/bin/bash** ，其中#!是约定的标记，标记告诉系统该脚本使用什么样的解释器去执行，这里是使用/bin目录下的bash解释器执行脚本（一般默认使用bash解释器）；
2. 运行脚本的方法：
    * 第一种，由于我们已经在脚本的第一行填写了#!/bin/bash，声明了解释器，所以可以直接使用./[脚本文件]到命令执行脚本；**实际上，脚本文件都可以直接输入脚本文件名执行**，如：test.sh文件，直接输入test.sh即可触发linux执行脚本；但linux会去PATH中查找对应文件名的文件，所以需要输入./test.sh，用来说明在当前目录下；
    * 第二种，直接使用解释器运行；这种就不需要在脚本文件的第一行指定解释器信息；
    ```
    /bin/bash test.sh
    ```

### shell变量
#### 定义变量
1. 格式：[变量名]=[变量值]
2. **注意：变量名与等号之间不能有空格**
3. 变量命名规则：
    * 第一、只能包含英文字母、数字和下划线，不能以数字开头；
    * 第二、中间不能有空格，不能使用标点符号，不能使用关键字（help指令可以看关键字）；

#### 使用变量
1. 在变量名前使用`$`符号即可，如：
    ```
    yourName='admin'
    echo $yourName
    echo ${yourName}
    ```
2. 上面使用`{}`是可选的，用来区分变量边界；推荐使用；
3. 变量赋值的时候不需要使用`$[变量名]`，如：
   ```
    your_name="tom"
    echo $your_name
    your_name="alibaba"
    echo $your_name
   ```

#### `readonly`只读变量
使用`readonly`命令可以将变量定义为只读变量，只读变量的值不可变；（类似于final）

#### 删除变量`unset`
**不能删除只读变量**；使用方式：`unset [变量名]`

#### 变量类型：
1. 字符串：**可以用单引号，双引号甚至可以不用引号声明**；
2. 使用单引号声明字符串,如：`[变量名]='test'`
    * 第一、不能存在转义字符；(**转义字符：`\`**)
    * 第二、不能插入变量，所以**一对单引号内的所有字符都会原样输出**；
3. 使用双引号声明字符串，如："test"
    * 第一、可以有变量，如：
        ```
        your_name="admin"
        str="Hello,I know ${your_name}"
        输出为：Hello,I know admin
        ```
    * 第二、可以使用转义字符。如：
        ```
        str="Hello,I know \"admin\"
        输出为：Hello,I know "admin"
        ```
4. 字符串的操作：
    * 拼接操作：使用双引号或单引号拼接都可以，如
        ```
        第一种：
        your_name="admin"
        str="Hello,I know "${your_name}"!" 或者 str='Hello,I know '${your_name}'!'
        输出为：Hello,I know admin!

        第二种：
        str2="Hello, I know ${your_name} !"
        输出为：Hello,I know admin!
        这里就不能用单引号了，因为单引号中不插入变量（是啥输出啥）
        ```
    * 获取字符串长度：使用`${#[字符串或者变量]}`
    * 提取子字符串：使用`${[字符串或变量]:[开始下标]:[获取几位]}`，**字符串的下标从1开始计数,不取开始下标的字符**
        ```
        str='import java no one'
        echo ${str:4:5}
        输出：rt ja
        ```
    * 查询字符（字母）的位置，其中，查询的**字符串或字符**不论是多少个字母组成，只返回字符串中某个字符最早出现在变量中的位置
        ```
        格式，需要用反引号括起来：
        `expr index "$[变量名]" [字符或字符串]`
        例子：查询字符串中i或o的位置
        str="port ip"
        ech `expr index "$str" io`
        输出：2，只返回最早出现的字符的位置
        ```

#### 数组
1. **只支持一维数组，不支持多维数组**；数组下标从0开始编号；
2. **定义数组**的形式：`数组名=(值1 值2 值3 ....)`，数值之间通过**空格或者换行符**进行分割；如：`arr=(value1 value2 value3)`;
3. 数组中**可以存放不同类型的数据**，使用时**下标范围没有限制**，超过当前下标的显示空字符；
4. **使用数组**：`${数组名[下标]}`；
5. 在下标中使用`@`或者`*`可以获取所有元素，如：`echo ${arr[@]}或echo ${arr[*]}`输出所有数组元素
6. 一、获取数组长度：`${#数组名[@]}`；二、获取数组中单个元素的长度；