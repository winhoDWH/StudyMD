事务
1. 四大特性
    * 原子性：事物是不可分割的操作单元，所有事务要么都做要么不做；
    * 一致性：事务执行的结果一定是使数据库从一个一致性状态变到另一个一致性状态；执行事务前数据库是一致的，执行事务后数据库也是一致的。
    * 隔离性：事务操作之间彼此会不影响，独立运行；即一个事务内部的操作及使用事务对其他并发事务是隔离的；
    * 持续性（永久性）：一个事务一旦提交了，对数据库的数据的修改就是永久的，接下来的其他操作或故障不应对其执行结果有任何影响。
2. 事务是恢复和并发控制的基本单位；

并发控制：
1. 并发控制机制是要用正确的方式调度并发操作，使一个用户事务的执行不受其他事务的干扰，从而保证数据的一致性；
2. 主要技术：封锁、时间戳、乐观控制法和多版本并发控制；

封锁
1. 基本的封锁有两种类型：排它锁和共享锁；
2. 排它锁(写锁、X锁)：**事务A对数据对象B加上X锁，则只允许事务A读取和修改B，其他事务不能再对A加任何锁，不能进行读取和修改操作；**
3. 共享锁(读锁、S锁)：**事务A对数据对象B加上S锁，事务A可以读B但不能修改，其他事务也只能对B加S锁，不能加X锁写锁;直到A释放了S锁为止；保证了事务A完成前不会有事务对B进行修改；**
4. 封锁协议：何时申请X锁或者S锁、持续时间、何时释放等等的规则；如：三级锁协议
5. 一级锁协议：
    **事务A对数据对象B进行修改操作时加X锁，直到事务结束才释放**，事务结束包括正常结束（COMMIT）和非正常结束（ROLLBACK）；注意：**只有进行修改操作才加锁，而读操作是不加锁的**，所以不能保证不可重复读和脏读；
    只能防止了丢失修改。
    不能保证脏读的原因：因为读数据不需要锁，所以即便是事务A有写锁，其他事务也可以直接访问读取该数据。
6. 二级锁协议：
    **在一级锁协议的基础上，事务A在读数据B时加读锁，读完后就释放**；注意：**读取操作后立刻释放，不是事务完成**，所以只能解决脏读的问题，不能解决不重复读问题；
    因为要加锁，所以在事务A修改的过程中，其他事务不能读该数据；
7. 三级锁协议：
    