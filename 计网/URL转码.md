## 一、 原因

1.  `Url`使用的编码方式为ASCII码，所以当`Url`中含有中文等ASCII码无法编码的字符时，则导致无法传输；
2. 具体有哪些不能编码的：根据`RFC3986`文档规定，`Url`中只允许包含英文字母（`a-zA-Z`）、数字（`0-9`）、-_.~4个特殊字符以及所有保留字符。
3. 以下字符为保留字符：! * ' ( ) ; : @ & = + $ , / ? # [ ]

## 二、 如何编码

1. 对于上面说的合法字符，则不需要额外编码，传输时会根据ASCII码编码方式转成对应二进制编码；
2. 对于非法字符，会采用==%百分号编码方式==；通过一个`%`百分号+两个字符（`0123456789ABCDEF`，与16进制相同）代表一个字节的十六进制形式；
3. 实际上，对于所有不在`Url`允许字符集中的字符（中文等），都是先通过`Unicode编码`或者`ASCII编码`将字符转换成对应二进制编码，然后在根据百分号编码对一个字节的编码进行转换。
4. 如：`"Url编码"`，使用`UTF-8`编码得到的字节是`0x55 0x72 0x6C 0xE7 0xBC 0x96 0xE7 0xA0 0x81`，由于前三个字节对应着ASCII中的非保留字符`"Url"`，因此这三个字节可以用非保留字符`"Url"`表示。最终的`Url编码`可以简化成`"Url%E7%BC%96%E7%A0%81" `；