## IOC学习

### 一 概念

1. IOC控制反转原型：==使用set注入实例对象的实现==，使程序员不需要管理对象的创建，程序百变成被动的接受对象，根据业务需求注入实例；降低了耦合性。

2. 反转的概念理解：以前类中创建对象都是使用`new`，将依赖关系写死在代码中；反转则是将对象的创建转移给第三方，即有个专门的中间处理模块负责控制对象的创建与管理；程序员不需要自己管理与创建对象，交给了程序决定，所以称为==反转==；

### 二 IOC的实现--spring的IOC容器

1. 通过`spring`创建对象，其属性也由spring注入管理

2. `spring`创建一个对象使用<bean>标签

   ``` xml
   <bean id="变量名" class="new的对象" name="别名，可以取多个别名，逗号或空格或分号分隔">
       <propery name="变量名">变量值</propery>
       <!--引用类型变量-->
       <propery name="变量名" ref="具体注入bean的ID"></propery>
   </bean>
   ```

3. `spring`默认使用无参构造器进行bean构造；如果定义了有参构造器则需要使用<constructor-arg>标签，有三种方式
4. 在加载配置文件时就进行了对象的创建

5. DI注入：对类中成员、属性定义一个set方法，则可通过`spring`的配置文件的标签进行值得注入；
   * 编程方式上：从在类中用new创建对象并设置值转变成通过书写配置文件，通过spring框架解析配置文件信息后获取对应值的对象；
   * 实际运行中：从类自己创建对象并赋值，转变成spring框架负责创建与赋值（即注入）；

## 命名空间

1. p命名空间注入，可以直接注入属性的值

   ``` xml
   <bean id="user" class="com.User" p:name="小明" p:age="18"/>
   <!--相当于-->
   <bean id="user" class="com.User">
   	<property>...</property>
   </bean>
   ```

2. c命名注入（构造器注入）

3. 需要导入约束才能使用

